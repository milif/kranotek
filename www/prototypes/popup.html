<!DOCTYPE html>
<html>
  <head>
    <title>Prototype</title>
    <meta charset="utf-8">
    <!-- Bootstrap -->
    <link href="../vendor/bootstrap/css/bootstrap.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../vendor/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">  
        
    
    
  </head>
  <body style="background: url(background.png); ">
  
    <div class="container-fluid">
        <h1>Popup</h1>
        <div id="popup" class="buttons"></div>
        <h1>Messages</h1>
        <div id="message" class="buttons"></div>                  
    </div>
    
    <link href="../css/b/popup.css" rel="stylesheet">
    <link href="../css/b/loading.css" rel="stylesheet">
    <link href="../css/b/effects.css" rel="stylesheet">
    <link href="../css/b/systemmsg.css" rel="stylesheet">
    <link href="../css/b/tooltip.css" rel="stylesheet">
    
    <script src="../vendor/jquery/jquery.js"></script>
    <script src="../vendor/underscore/underscore.js"></script>
    <script src="../vendor/backbone/backbone.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.js"></script>
    
    <script src="../src/App.js"></script>
    <script src="../src/RPC.js"></script>
    
    <script src="../src/view/button/Button.js"></script>
    
    <script src="../src/view/container/Container.js"></script>
    
    <script src="../src/view/Popup.js"></script>
   
    <style>
        .buttons .btn {
            margin-left: 15px;
            }
    </style>   
    
    <script>
        
        App.env = {
            apiUrl: '../',
            apiUrlSuffix: '.php'
        }       
        
        var Popup = App.getView('Popup'),
            Button = App.getView('Button'),
            
            popup = new Popup({
                title: 'Title',
                popupWidth: 500
            })
                .add('<p>Test content</p>')
                .addButton(new Button({
                    text: 'Change title',
                    click: function(){
                        popup.setTitle('New title');
                    }
                }))
                .addButton(new Button({
                    text: 'Close',
                    click: function(){
                        popup.close();
                    }
                }));

        $('#popup')
            .append(new Button({
                text: 'Open',
                click: function(){
                    popup.open();
                }
            }).$el);
        $('#message')
            .append(new Button({
                text: 'OK CANCEL',
                click: function(){
                    App.msg.okcancel({
                        title: 'Delete object',
                        text: 'Do you want do it?',
                        callback: function(){
                            App.msg.success({
                                title: 'Well done!',
                                text: ' You successfully read this important alert message.'
                            });                            
                        }
                    });
                }
            }).$el);          ; 
    </script>
  </body>
</html>
